@baseurl = http://localhost:3333
@authToken = eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI3ODYzOWQ3ZS1lZWY5LTQ5ZTYtYmVkYS0zMWYxOWMxZTNlZDciLCJpYXQiOjE3NTk3MDA0Mjd9.Cs2TYuVRjoO3eNgMdHGZwovs9Gkg4cu31D_lzGQA67ULe4Md6ZvBv9m5RjXfvZAPQPTeJDeTQBJUNMzz5Bq_7LRkKVI0f9mwP9NJnljO3PUg72XkwObLkQa4914I66yV7qm9ML5KEYlKMUcMvRPzxpujMxwx2X8mH7ABlD1G6YYzV6FUGl15558z3m6EU-iXqxHkylQaBUiweBjP3CKJRfiqDJV3cOjtZOK593ygvHVvT0MAjh_IuDCCBWza9vnZGX1k64PTRJNK9zcZ3k0ezlCu3nS20MI_dDKSMoFCxh3FW4cVVP7gImeDTyRu7DVY2OYL_M2iEkyHqVcaXpaw4g
@apiKey = lak_c76b121817b7a317064e760139c68ff9693e96cf5ad5f7da96e1dd317a2379d3

# @name create_account
POST {{baseurl}}/users
Content-Type: application/json

{
    "name": "André Carvalho",
    "email": "teste1aa@teste.com",
    "password": "123456"
}

###

# @name authenticate
POST {{baseurl}}/sessions
Content-Type: application/json

{
  "email": "teste1a@teste.com",
  "password": "123456"
}


###

# @name create_landing_page
POST {{baseurl}}/landing-pages
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
    "name": "Landing Page Teste",
    "slug": "landing-page-teste-2"
}

###

# @name list_landing_pages
GET {{baseurl}}/landing-pages/46d555d7-64e6-49cd-8c0a-8f271e4b43d2
Content-Type: application/json
Authorization: Bearer {{authToken}}


###

# @name create_lead
POST {{baseurl}}/leads
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "landingPageId": "46d555d7-64e6-49cd-8c0a-8f271e4b43d2",
  "name": "XANAO",
  "email": "xan@example.com",
  "phone": "+5511999999999",
  "position": "Desenvolvedor",
  "dateOfBirth": "1990-05-15T00:00:00.000Z",
  "message": "Gostaria de saber mais sobre o produto",
  "utmSource": "google",
  "utmMedium": "cpc",
  "utmCampaign": "black-friday-2024",
  "utmTerm": "curso-programacao",
  "utmContent": "anuncio-a",
  "gclid": "TeSter-123",
  "fbclid": "IwAR123456"
}

###

# @name list_leads
GET {{baseurl}}/leads
Content-Type: application/json
Authorization: Bearer {{authToken}}

###

# @name list_leads_by_landing_page_id
GET {{baseurl}}/leads?landingPageId=46d555d7-64e6-49cd-8c0a-8f271e4b43d2
Content-Type: application/json
Authorization: Bearer {{authToken}}

###

# @name list_lead_by_id
GET {{baseurl}}/leads/9eadd4f3-bf80-495f-bc13-a1052824c2d4
Content-Type: application/json
Authorization: Bearer {{authToken}}

###

# @name update_lead
PUT {{baseurl}}/leads/23105893-d5c1-4aab-9c9f-1d3d0d5712ff
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "name": "João Silva Atualizado"
}

###


# @name generate_api_key
POST {{baseurl}}/users/api-key/generate
Content-Type: application/json
Authorization: Bearer {{authToken}}

###

# @name get_api_key
GET {{baseurl}}/users/api-key
Content-Type: application/json
Authorization: Bearer {{authToken}}

###

# @name revoke_api_key
DELETE {{baseurl}}/users/api-key
Content-Type: application/json
Authorization: Bearer {{authToken}}

###


# @name create_lead_with_api_key
POST {{baseurl}}/leads
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "landingPageId": "46d555d7-64e6-49cd-8c0a-8f271e4b43d2",
  "name": "Lead via API Key",
  "email": "lead-apiaaa@example.com",
  "phone": "+5511988888888",
  "message": "Lead criado via API Key",
  "utmSource": "landing-page",
  "utmMedium": "organic"
}
